{"ast":null,"code":"import _toConsumableArray from \"/Users/asif/Downloads/f28bnj/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectSpread from \"/Users/asif/Downloads/f28bnj/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/Users/asif/Downloads/f28bnj/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/Users/asif/Downloads/f28bnj/src/contexts/CartContext.js\",\n  _this = this,\n  _s = $RefreshSig$();\nimport { createContext, useContext, useState } from \"react\";\nimport { ProductContext } from \"./ProductsContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport var CartContext = /*#__PURE__*/createContext();\nexport var CartProvider = function CartProvider(_ref) {\n  _s();\n  var children = _ref.children;\n  var _useContext = useContext(ProductContext),\n    addedToCart = _useContext.addedToCart,\n    removedFromCart = _useContext.removedFromCart;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    cart = _useState2[0],\n    setCart = _useState2[1];\n  var addToCart = function addToCart(itemToAdd) {\n    var updatedItems = addOrUpdateProduct(itemToAdd, cart);\n    setCart(updatedItems);\n  };\n  var decreaseQuantity = function decreaseQuantity(itemId) {\n    var updatedItems = cart.map(function (item) {\n      return item.id === itemId ? item.quantity - 1 < 1 ? item : _objectSpread(_objectSpread({}, item), {}, {\n        quantity: item.quantity -= 1\n      }) : item;\n    });\n    setCart(updatedItems);\n  };\n  var increaseQuantity = function increaseQuantity(itemId) {\n    var updatedItems = cart.map(function (item) {\n      return item.id === itemId ? _objectSpread(_objectSpread({}, item), {}, {\n        quantity: item.quantity += 1\n      }) : item;\n    });\n    setCart(updatedItems);\n  };\n  var addOrUpdateProduct = function addOrUpdateProduct(itemToAdd) {\n    console.log(cart);\n    var updatedItems = cart.find(function (_ref2) {\n      var id = _ref2.id;\n      return id === itemToAdd.id;\n    }) ? cart.map(function (item) {\n      return item.id === itemToAdd.id ? _objectSpread(_objectSpread({}, item), {}, {\n        quantity: item.quantity += 1\n      }) : item;\n    }) : [].concat(_toConsumableArray(cart), [_objectSpread(_objectSpread({}, itemToAdd), {}, {\n      isItemInCart: true\n    })]);\n    addedToCart(itemToAdd.id);\n    return updatedItems;\n  };\n  var removeItemFromCart = function removeItemFromCart(itemId) {\n    var updatedCart = cart.filter(function (_ref3) {\n      var id = _ref3.id;\n      return id !== itemId;\n    });\n    removedFromCart(itemId);\n    setCart(updatedCart);\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      cart: cart,\n      addToCart: addToCart,\n      decreaseQuantity: decreaseQuantity,\n      increaseQuantity: increaseQuantity,\n      removeItemFromCart: removeItemFromCart\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, _this);\n};\n_s(CartProvider, \"xckyP18S4din0K3NSJFTEeicUeU=\");\n_c = CartProvider;\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["createContext","useContext","useState","ProductContext","jsxDEV","_jsxDEV","CartContext","CartProvider","_ref","_s","children","_useContext","addedToCart","removedFromCart","_useState","_useState2","_slicedToArray","cart","setCart","addToCart","itemToAdd","updatedItems","addOrUpdateProduct","decreaseQuantity","itemId","map","item","id","quantity","_objectSpread","increaseQuantity","console","log","find","_ref2","concat","_toConsumableArray","isItemInCart","removeItemFromCart","updatedCart","filter","_ref3","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_this","_c","$RefreshReg$"],"sources":["/Users/asif/Downloads/f28bnj/src/contexts/CartContext.js"],"sourcesContent":["import { createContext, useContext, useState } from \"react\";\nimport { ProductContext } from \"./ProductsContext\";\n\nexport const CartContext = createContext();\n\nexport const CartProvider = ({ children }) => {\n  const { addedToCart, removedFromCart } = useContext(ProductContext);\n  const [cart, setCart] = useState([]);\n\n  const addToCart = (itemToAdd) => {\n    const updatedItems = addOrUpdateProduct(itemToAdd, cart);\n    setCart(updatedItems);\n  };\n\n  const decreaseQuantity = (itemId) => {\n    const updatedItems = cart.map((item) =>\n      item.id === itemId ? (item.quantity - 1) < 1 ? item : { ...item, quantity: (item.quantity -= 1) } : item\n    );\n    setCart(updatedItems);\n  };\n\n  const increaseQuantity = (itemId) => {\n    const updatedItems = cart.map((item) =>\n      item.id === itemId ? { ...item, quantity: (item.quantity += 1) } : item\n    );\n    setCart(updatedItems);\n  };\n\n  const addOrUpdateProduct = (itemToAdd) => {\n    console.log(cart);\n    const updatedItems = cart.find(({ id }) => id === itemToAdd.id)\n      ? cart.map((item) =>\n          item.id === itemToAdd.id\n            ? { ...item, quantity: (item.quantity += 1) }\n            : item\n        )\n      : [...cart, { ...itemToAdd, isItemInCart:true }];\n\n    addedToCart(itemToAdd.id);\n    return updatedItems;\n  };\n\n  const removeItemFromCart = (itemId) => {\n    const updatedCart = cart.filter(({id}) => id !== itemId)\n    removedFromCart(itemId)\n    setCart(updatedCart)\n  }\n\n  return (\n    <CartContext.Provider\n      value={{\n        cart,\n        addToCart,\n        decreaseQuantity,\n        increaseQuantity,\n        removeItemFromCart\n      }}\n    >\n      {children}\n    </CartContext.Provider>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}