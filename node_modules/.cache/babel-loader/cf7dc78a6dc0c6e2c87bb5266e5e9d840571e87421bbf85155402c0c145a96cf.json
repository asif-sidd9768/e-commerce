{"ast":null,"code":"import _toConsumableArray from \"/Users/asif/Downloads/f28bnj/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectSpread from \"/Users/asif/Downloads/f28bnj/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/Users/asif/Downloads/f28bnj/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/Users/asif/Downloads/f28bnj/src/contexts/CartContext.js\",\n  _this = this,\n  _s = $RefreshSig$();\nimport { createContext, useContext, useState } from \"react\";\nimport { ProductContext } from \"./ProductsContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport var CartContext = /*#__PURE__*/createContext();\nexport var CartProvider = function CartProvider(_ref) {\n  _s();\n  var children = _ref.children;\n  var _useContext = useContext(ProductContext),\n    addedToCart = _useContext.addedToCart;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    cart = _useState2[0],\n    setCart = _useState2[1];\n  var addToCart = function addToCart(itemToAdd) {\n    var updatedItems = addOrUpdateProduct(itemToAdd, cart);\n    setCart(updatedItems);\n  };\n  var decreaseQuantity = function decreaseQuantity(itemId) {\n    var updatedItems = cart.map(function (item) {\n      return item.id === itemId ? _objectSpread(_objectSpread({}, item), {}, {\n        quantity: item.quantity -= 1\n      }) : item;\n    });\n    setCart(updatedItems);\n  };\n  var increaseQuantity = function increaseQuantity(itemId) {\n    var updatedItems = cart.map(function (item) {\n      return item.id === itemId ? _objectSpread(_objectSpread({}, item), {}, {\n        quantity: item.quantity += 1\n      }) : item;\n    });\n    setCart(updatedItems);\n  };\n  var addOrUpdateProduct = function addOrUpdateProduct(itemToAdd) {\n    console.log(cart);\n    var updatedItems = cart.find(function (_ref2) {\n      var id = _ref2.id;\n      return id === itemToAdd.id;\n    }) ? cart.map(function (item) {\n      return item.id === itemToAdd.id ? _objectSpread(_objectSpread({}, item), {}, {\n        quantity: item.quantity += 1\n      }) : item;\n    }) : [].concat(_toConsumableArray(cart), [_objectSpread({}, itemToAdd)]);\n    addedToCart(itemToAdd.id);\n    return updatedItems;\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      cart: cart,\n      addToCart: addToCart,\n      decreaseQuantity: decreaseQuantity,\n      increaseQuantity: increaseQuantity\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, _this);\n};\n_s(CartProvider, \"MBk/Z7e0LaKeGeHyO2E5hVL5Lvs=\");\n_c = CartProvider;\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["createContext","useContext","useState","ProductContext","jsxDEV","_jsxDEV","CartContext","CartProvider","_ref","_s","children","_useContext","addedToCart","_useState","_useState2","_slicedToArray","cart","setCart","addToCart","itemToAdd","updatedItems","addOrUpdateProduct","decreaseQuantity","itemId","map","item","id","_objectSpread","quantity","increaseQuantity","console","log","find","_ref2","concat","_toConsumableArray","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_this","_c","$RefreshReg$"],"sources":["/Users/asif/Downloads/f28bnj/src/contexts/CartContext.js"],"sourcesContent":["import { createContext, useContext, useState } from \"react\";\nimport { ProductContext } from \"./ProductsContext\";\n\nexport const CartContext = createContext();\n\nexport const CartProvider = ({ children }) => {\n  const { addedToCart } = useContext(ProductContext);\n  const [cart, setCart] = useState([]);\n\n  const addToCart = (itemToAdd) => {\n    const updatedItems = addOrUpdateProduct(itemToAdd, cart);\n    setCart(updatedItems);\n  };\n\n  const decreaseQuantity = (itemId) => {\n    const updatedItems = cart.map((item) =>\n      item.id === itemId ? { ...item, quantity: (item.quantity -= 1) } : item\n    );\n    setCart(updatedItems);\n  };\n\n  const increaseQuantity = (itemId) => {\n    const updatedItems = cart.map((item) =>\n      item.id === itemId ? { ...item, quantity: (item.quantity += 1) } : item\n    );\n    setCart(updatedItems);\n  };\n\n  const addOrUpdateProduct = (itemToAdd) => {\n    console.log(cart);\n    const updatedItems = cart.find(({ id }) => id === itemToAdd.id)\n      ? cart.map((item) =>\n          item.id === itemToAdd.id\n            ? { ...item, quantity: (item.quantity += 1) }\n            : item\n        )\n      : [...cart, { ...itemToAdd }];\n\n    addedToCart(itemToAdd.id);\n    return updatedItems;\n  };\n  return (\n    <CartContext.Provider\n      value={{\n        cart,\n        addToCart,\n        decreaseQuantity,\n        increaseQuantity\n      }}\n    >\n      {children}\n    </CartContext.Provider>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}